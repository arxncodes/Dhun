# Dhun Music Player - New Features Overview

## ğŸµ Audio Player Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DHUN MUSIC PLAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          â”‚  â”‚  Track Title                           â”‚  â”‚          â”‚   â”‚
â”‚  â”‚  Cover   â”‚  â”‚  Artist Name                           â”‚  â”‚  Volume  â”‚   â”‚
â”‚  â”‚  Image   â”‚  â”‚                                        â”‚  â”‚  Control â”‚   â”‚
â”‚  â”‚ 12x12    â”‚  â”‚  â¤ï¸ Favorite    â• Add to Playlist    â”‚  â”‚          â”‚   â”‚
â”‚  â”‚          â”‚  â”‚                                        â”‚  â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Playback Controls                            â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚    ğŸ”€      â®ï¸       â–¶ï¸/â¸ï¸       â­ï¸       ğŸ”                        â”‚   â”‚
â”‚  â”‚  Shuffle  Previous  Play/Pause   Next    Repeat                    â”‚   â”‚
â”‚  â”‚  (Purple  (Skip or  (Toggle)   (Skip)   (Off/All/                  â”‚   â”‚
â”‚  â”‚   when    Restart)              Track    One)                      â”‚   â”‚
â”‚  â”‚  active)                                 ğŸ”‚ for One                 â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Progress Bar                                                       â”‚   â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚   â”‚
â”‚  â”‚  0:00                                                         3:45  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ Add to Playlist Dialog

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add to Playlist                      âœ•     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Select playlists to add this track to:    â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  âœ… My Favorites                      â”‚ â”‚
â”‚  â”‚     Your favorite tracks              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â¬œ Workout Mix                       â”‚ â”‚
â”‚  â”‚     High energy tracks                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  âœ… Chill Vibes                       â”‚ â”‚
â”‚  â”‚     Relaxing music                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â¬œ Road Trip                         â”‚ â”‚
â”‚  â”‚     Long drive playlist               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚  âœ… = Track already in playlist             â”‚
â”‚  Click to add/remove                        â”‚
â”‚                                             â”‚
â”‚                                    [Close]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Admin Upload Form - Music Categories

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upload New Track                                     âœ•     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Content Type:  [Music â–¼]                                  â”‚
â”‚                                                             â”‚
â”‚  Audio File:    [Choose File] track.mp3                    â”‚
â”‚                                                             â”‚
â”‚  Title:         [Amazing Song________________]             â”‚
â”‚                                                             â”‚
â”‚  Artist:        [Great Artist________________]             â”‚
â”‚                                                             â”‚
â”‚  Music Category: [Select a category â–¼]                     â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                  â”‚ Phonk                   â”‚               â”‚
â”‚                  â”‚ Bollywood               â”‚               â”‚
â”‚                  â”‚ Hollywood               â”‚               â”‚
â”‚                  â”‚ Romantic                â”‚               â”‚
â”‚                  â”‚ Gym                     â”‚               â”‚
â”‚                  â”‚ Casual                  â”‚               â”‚
â”‚                  â”‚ Funny                   â”‚               â”‚
â”‚                  â”‚ Pop                     â”‚               â”‚
â”‚                  â”‚ Rock                    â”‚               â”‚
â”‚                  â”‚ Hip-Hop                 â”‚               â”‚
â”‚                  â”‚ Electronic              â”‚               â”‚
â”‚                  â”‚ Jazz                    â”‚               â”‚
â”‚                  â”‚ Classical               â”‚               â”‚
â”‚                  â”‚ ... (31 total)          â”‚               â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â”‚  Cover Image:   [Choose File] cover.jpg                    â”‚
â”‚                 Upload a cover image or provide URL below  â”‚
â”‚                                                             â”‚
â”‚  Or Cover URL:  [https://example.com/cover.jpg_______]     â”‚
â”‚                                                             â”‚
â”‚                                    [Cancel]  [Upload]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Feature Interaction Flow

### Playing Music with New Controls

```
User Action                    System Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Click Play on Track    â†’   â€¢ Track loads into player
                               â€¢ Queue initialized with track list
                               â€¢ All controls become active

2. Click Shuffle          â†’   â€¢ Queue is shuffled
                               â€¢ Current track stays playing
                               â€¢ Shuffle button turns purple
                               â€¢ Original order saved

3. Click Next             â†’   â€¢ Next track in shuffled queue plays
                               â€¢ Progress bar resets
                               â€¢ Cover image updates

4. Click Repeat           â†’   â€¢ Mode changes: Off â†’ All
                               â€¢ Repeat button turns purple
                               â€¢ Icon shows ğŸ”

5. Click Repeat Again     â†’   â€¢ Mode changes: All â†’ One
                               â€¢ Icon changes to ğŸ”‚
                               â€¢ Current track will loop

6. Click Previous         â†’   â€¢ If < 3 sec: Previous track plays
                               â€¢ If > 3 sec: Current track restarts
                               â€¢ Works with shuffle/repeat

7. Track Ends             â†’   â€¢ If Repeat One: Restart track
                               â€¢ If Repeat All: Play next, loop at end
                               â€¢ If Off: Play next, stop at end
```

### Adding Track to Playlist

```
User Action                    System Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Track is Playing       â†’   â€¢ Plus button visible next to heart

2. Click Plus Button      â†’   â€¢ Dialog opens
                               â€¢ Loading spinner shows
                               â€¢ Fetches user's playlists

3. Playlists Load         â†’   â€¢ Shows all playlists
                               â€¢ Checks which contain current track
                               â€¢ Shows âœ… for playlists with track

4. Click Playlist         â†’   â€¢ If not in playlist: Adds track
                               â€¢ If in playlist: Removes track
                               â€¢ Checkmark toggles
                               â€¢ Toast notification shows

5. Click Another          â†’   â€¢ Same add/remove logic
                               â€¢ Multiple playlists can be updated
                               â€¢ Each action shows toast

6. Close Dialog           â†’   â€¢ Changes are saved
                               â€¢ Dialog closes
                               â€¢ Player continues playing
```

### Admin Uploading with Categories

```
Admin Action                   System Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Click Upload Track     â†’   â€¢ Dialog opens
                               â€¢ Form fields shown

2. Select "Music"         â†’   â€¢ Artist field appears
                               â€¢ Music Category dropdown appears
                               â€¢ Podcast fields hidden

3. Choose Audio File      â†’   â€¢ File name displays
                               â€¢ File validated

4. Fill Title & Artist    â†’   â€¢ Required fields filled

5. Select Category        â†’   â€¢ Dropdown opens
                               â€¢ 31 categories shown
                               â€¢ Select "Phonk"

6. Upload Cover Image     â†’   â€¢ File chooser opens
                               â€¢ Select image file
                               â€¢ File name displays

7. Click Upload           â†’   â€¢ Audio file uploads to storage
                               â€¢ Cover image uploads to storage
                               â€¢ Track record created with:
                                 - title, artist
                                 - music_category: 'phonk'
                                 - cover_image_url
                               â€¢ Success toast shows
                               â€¢ Form resets
                               â€¢ Track appears in library
```

## ğŸ“Š Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUDIO PLAYER CONTEXT                        â”‚
â”‚                                                                 â”‚
â”‚  State:                          Methods:                       â”‚
â”‚  â€¢ currentTrack                  â€¢ playTrack(track, list?)     â”‚
â”‚  â€¢ queue: Track[]                â€¢ playNext()                   â”‚
â”‚  â€¢ currentIndex: number          â€¢ playPrevious()               â”‚
â”‚  â€¢ shuffle: boolean              â€¢ toggleShuffle()              â”‚
â”‚  â€¢ repeatMode: 'off'|'all'|'one' â€¢ toggleRepeat()               â”‚
â”‚  â€¢ originalQueue: Track[]        â€¢ addToQueue(track)            â”‚
â”‚  â€¢ isPlaying: boolean            â€¢ removeFromQueue(index)       â”‚
â”‚  â€¢ audioRef: HTMLAudioElement    â€¢ clearQueue()                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ Provides Context
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚
        â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AudioPlayer   â”‚         â”‚ Other Components â”‚
â”‚ Component     â”‚         â”‚ (Pages, Cards)   â”‚
â”‚               â”‚         â”‚                  â”‚
â”‚ â€¢ Controls UI â”‚         â”‚ â€¢ Play buttons   â”‚
â”‚ â€¢ Progress    â”‚         â”‚ â€¢ Track lists    â”‚
â”‚ â€¢ Volume      â”‚         â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PLAYLIST MANAGEMENT                         â”‚
â”‚                                                                 â”‚
â”‚  AddToPlaylistDialog                                            â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â†’ Fetch user playlists (playlistApi.getUserPlaylists)â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â†’ Check track in playlists (playlistApi.getPlaylist  â”‚
â”‚         â”‚                              Tracks for each)         â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â†’ Add track (playlistApi.addTrackToPlaylist)         â”‚
â”‚         â”‚                                                       â”‚
â”‚         â””â”€â†’ Remove track (playlistApi.removeTrackFromPlaylist) â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TRACK UPLOAD FLOW                           â”‚
â”‚                                                                 â”‚
â”‚  AdminDashboardPage                                             â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â†’ Upload audio file (storageApi.uploadAudio)         â”‚
â”‚         â”‚   â€¢ Generates unique filename                        â”‚
â”‚         â”‚   â€¢ Returns public URL                               â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â†’ Upload cover image (storageApi.uploadAudio)        â”‚
â”‚         â”‚   â€¢ If file provided                                 â”‚
â”‚         â”‚   â€¢ Generates unique filename                        â”‚
â”‚         â”‚   â€¢ Returns public URL                               â”‚
â”‚         â”‚                                                       â”‚
â”‚         â””â”€â†’ Create track record (trackApi.createTrack)         â”‚
â”‚             â€¢ title, artist/podcast_name                        â”‚
â”‚             â€¢ music_category (for music)                        â”‚
â”‚             â€¢ category (for podcasts)                           â”‚
â”‚             â€¢ file_url, cover_image_url                         â”‚
â”‚             â€¢ content_type                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ Database Schema Updates

```sql
-- Music Category Enum
CREATE TYPE music_category AS ENUM (
  'phonk', 'bollywood', 'hollywood', 'romantic', 'gym',
  'casual', 'funny', 'pop', 'rock', 'hip-hop', 'electronic',
  'jazz', 'classical', 'country', 'r&b', 'indie', 'folk',
  'metal', 'blues', 'reggae', 'latin', 'k-pop', 'anime',
  'lo-fi', 'chill', 'party', 'workout', 'study', 'sleep',
  'meditation', 'other'
);

-- Tracks Table (Updated)
tracks
â”œâ”€â”€ id (uuid, PK)
â”œâ”€â”€ title (text)
â”œâ”€â”€ artist (text, nullable)
â”œâ”€â”€ podcast_name (text, nullable)
â”œâ”€â”€ category (text, nullable)          â† For podcasts
â”œâ”€â”€ music_category (music_category)    â† NEW: For music
â”œâ”€â”€ content_type (content_type)
â”œâ”€â”€ file_path (text)
â”œâ”€â”€ file_url (text)
â”œâ”€â”€ duration (integer, nullable)
â”œâ”€â”€ cover_image_url (text, nullable)   â† Already existed
â”œâ”€â”€ created_at (timestamp)
â””â”€â”€ updated_at (timestamp)
```

## ğŸ¨ UI Component Hierarchy

```
App
â””â”€â”€ AudioPlayerProvider
    â”œâ”€â”€ Layout
    â”‚   â”œâ”€â”€ Sidebar
    â”‚   â”œâ”€â”€ Header
    â”‚   â””â”€â”€ Main Content
    â”‚       â”œâ”€â”€ HomePage
    â”‚       â”œâ”€â”€ MusicPage
    â”‚       â”œâ”€â”€ PodcastsPage
    â”‚       â”œâ”€â”€ PlaylistsPage
    â”‚       â””â”€â”€ AdminDashboardPage
    â”‚           â””â”€â”€ Upload Dialog
    â”‚               â”œâ”€â”€ Content Type Selector
    â”‚               â”œâ”€â”€ Audio File Input
    â”‚               â”œâ”€â”€ Title Input
    â”‚               â”œâ”€â”€ Artist/Podcast Name Input
    â”‚               â”œâ”€â”€ Music Category Dropdown  â† NEW
    â”‚               â”œâ”€â”€ Podcast Category Input
    â”‚               â”œâ”€â”€ Cover Image File Input  â† NEW
    â”‚               â””â”€â”€ Cover Image URL Input   â† NEW
    â”‚
    â””â”€â”€ AudioPlayer (Fixed at bottom)
        â”œâ”€â”€ Track Info Section
        â”‚   â”œâ”€â”€ Cover Image
        â”‚   â”œâ”€â”€ Title & Artist
        â”‚   â”œâ”€â”€ Favorite Button
        â”‚   â””â”€â”€ Add to Playlist Button  â† NEW
        â”‚       â””â”€â”€ AddToPlaylistDialog â† NEW
        â”‚
        â”œâ”€â”€ Controls Section
        â”‚   â”œâ”€â”€ Shuffle Button          â† NEW
        â”‚   â”œâ”€â”€ Previous Button         â† NEW
        â”‚   â”œâ”€â”€ Play/Pause Button
        â”‚   â”œâ”€â”€ Next Button             â† NEW
        â”‚   â””â”€â”€ Repeat Button           â† NEW
        â”‚
        â”œâ”€â”€ Progress Bar
        â””â”€â”€ Volume Control
```

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AudioPlayerContext State                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  playTrack(track, trackList)                                â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ Set currentTrack = track                                 â”‚
â”‚  â€¢ Set queue = trackList || [track]                         â”‚
â”‚  â€¢ Set currentIndex = 0                                     â”‚
â”‚  â€¢ If shuffle: Apply shuffle to queue                       â”‚
â”‚  â€¢ Start playback                                           â”‚
â”‚                                                              â”‚
â”‚  toggleShuffle()                                            â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ If enabling:                                             â”‚
â”‚    - Save originalQueue = queue                             â”‚
â”‚    - Shuffle queue (keep current track)                     â”‚
â”‚  â€¢ If disabling:                                            â”‚
â”‚    - Restore queue = originalQueue                          â”‚
â”‚  â€¢ Toggle shuffle state                                     â”‚
â”‚                                                              â”‚
â”‚  toggleRepeat()                                             â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ Cycle: 'off' â†’ 'all' â†’ 'one' â†’ 'off'                    â”‚
â”‚  â€¢ Update repeatMode state                                  â”‚
â”‚                                                              â”‚
â”‚  playNext()                                                 â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ If currentIndex < queue.length - 1:                      â”‚
â”‚    - Increment currentIndex                                 â”‚
â”‚    - Play queue[currentIndex]                               â”‚
â”‚  â€¢ Else if repeatMode === 'all':                            â”‚
â”‚    - Set currentIndex = 0                                   â”‚
â”‚    - Play queue[0]                                          â”‚
â”‚                                                              â”‚
â”‚  playPrevious()                                             â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ If currentTime > 3:                                      â”‚
â”‚    - Restart current track                                  â”‚
â”‚  â€¢ Else if currentIndex > 0:                                â”‚
â”‚    - Decrement currentIndex                                 â”‚
â”‚    - Play queue[currentIndex]                               â”‚
â”‚                                                              â”‚
â”‚  handleEnded()                                              â”‚
â”‚    â†“                                                         â”‚
â”‚  â€¢ If repeatMode === 'one':                                 â”‚
â”‚    - Restart current track                                  â”‚
â”‚  â€¢ Else:                                                    â”‚
â”‚    - Call playNext()                                        â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Key Features Summary

| Feature | Description | Location | Status |
|---------|-------------|----------|--------|
| **Shuffle** | Randomize playback order | Audio Player | âœ… Complete |
| **Repeat** | Loop queue or single track | Audio Player | âœ… Complete |
| **Previous** | Go to previous track | Audio Player | âœ… Complete |
| **Next** | Go to next track | Audio Player | âœ… Complete |
| **Add to Playlist** | Quick add from player | Audio Player | âœ… Complete |
| **Music Categories** | 31 predefined categories | Admin Upload | âœ… Complete |
| **Cover Upload** | File or URL upload | Admin Upload | âœ… Complete |

## ğŸ“± Responsive Design

All new features are fully responsive:

- **Desktop**: Full controls visible, hover states active
- **Tablet**: Optimized layout, touch-friendly buttons
- **Mobile**: Compact controls, mobile-optimized dialogs

---

**Version**: 2.1.0  
**Last Updated**: December 25, 2025  
**Status**: âœ… Production Ready
